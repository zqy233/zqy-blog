import { _ as _export_sfc, c as createElementBlock, o as openBlock, a as createStaticVNode } from "./app.b24e24a6.js";
const __pageData = '{"title":"Express\u4F7F\u7528JWT","description":"","frontmatter":{},"headers":[{"level":2,"title":"\u5B89\u88C5JWT","slug":"\u5B89\u88C5jwt"},{"level":2,"title":"\u5BFC\u5165JWT\u76F8\u5173\u5305","slug":"\u5BFC\u5165jwt\u76F8\u5173\u5305"},{"level":2,"title":"\u5B9A\u4E49secret\u5BC6\u94A5","slug":"\u5B9A\u4E49secret\u5BC6\u94A5"},{"level":2,"title":"\u751F\u6210JWT\u5B57\u7B26\u4E32","slug":"\u751F\u6210jwt\u5B57\u7B26\u4E32"},{"level":2,"title":"JWT\u8FD8\u539F\u6210JSON","slug":"jwt\u8FD8\u539F\u6210json"}],"relativePath":"notes/2.framework/3.express/3.jwt.md","lastUpdated":1652939653957}';
const _sfc_main = {};
const _hoisted_1 = /* @__PURE__ */ createStaticVNode('<h1 id="express\u4F7F\u7528jwt" tabindex="-1">Express\u4F7F\u7528JWT <a class="header-anchor" href="#express\u4F7F\u7528jwt" aria-hidden="true">#</a></h1><blockquote><p>JWT\u5C5E\u4E8Etoken\u673A\u5236\u7684\u4E00\u79CD</p></blockquote><h2 id="\u5B89\u88C5jwt" tabindex="-1">\u5B89\u88C5JWT <a class="header-anchor" href="#\u5B89\u88C5jwt" aria-hidden="true">#</a></h2><div class="language-sh"><pre><code><span class="line"><span style="color:#A6ACCD;">npm i jsonwebtoken express-jwt</span></span>\n<span class="line"></span></code></pre></div><ul><li><code>jsonwebtoken</code>\u7528\u4E8E\u751F\u6210JWT\u5B57\u7B26\u4E32</li><li><code>express-jwt</code>\u7528\u4E8E\u5C06JWT\u5B57\u7B26\u4E32\u89E3\u6790\u8FD8\u539F\u6210JSON\u5BF9\u8C61</li></ul><h2 id="\u5BFC\u5165jwt\u76F8\u5173\u5305" tabindex="-1">\u5BFC\u5165JWT\u76F8\u5173\u5305 <a class="header-anchor" href="#\u5BFC\u5165jwt\u76F8\u5173\u5305" aria-hidden="true">#</a></h2><div class="language-js"><pre><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> jwt </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">require</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">jsonwebtoken</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>\n<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> expressJWT </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">require</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">express-jwt</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>\n<span class="line"></span></code></pre></div><h2 id="\u5B9A\u4E49secret\u5BC6\u94A5" tabindex="-1">\u5B9A\u4E49secret\u5BC6\u94A5 <a class="header-anchor" href="#\u5B9A\u4E49secret\u5BC6\u94A5" aria-hidden="true">#</a></h2><p>\u4E3A\u4E86\u4FDD\u8BC1JWT\u5B57\u7B26\u4E32\u7684\u5B89\u5168\u6027\uFF0C\u9632\u6B62JWT\u5B57\u7B26\u4E32\u5728\u7F51\u7EDC\u4F20\u8F93\u8FC7\u7A0B\u4E2D\u88AB\u522B\u4EBA\u7834\u89E3\uFF0C\u6211\u4EEC\u9700\u8981\u4E13\u95E8\u5B9A\u4E49\u4E00\u4E2A\u7528\u4E8E\u52A0\u5BC6\u548C\u89E3\u5BC6\u7684secret\u5BC6\u94A5\uFF1A</p><ol><li>\u5F53\u751F\u6210JWT\u5B57\u7B26\u4E32\u7684\u65F6\u5019\uFF0C\u9700\u8981\u4F7F\u7528secret\u5BC6\u94A5\u5BF9\u7528\u6237\u7684\u4FE1\u606F\u8FDB\u884C\u52A0\u5BC6\uFF0C\u6700\u7EC8\u5F97\u5230\u52A0\u5BC6\u597D\u7684JWT\u5B57\u7B26\u4E32</li><li>\u5F53\u628AJWT\u5B57\u7B26\u4E32\u89E3\u6790\u8FD8\u539F\u6210JSON\u5BF9\u8C61\u7684\u65F6\u5019\uFF0C\u9700\u8981\u4F7F\u7528secret\u5BC6\u94A5\u8FDB\u884C\u89E3\u5BC6</li></ol><div class="language-js"><pre><code><span class="line"><span style="color:#676E95;font-style:italic;">// secretKey \u5BC6\u94A5\u7684\u672C\u8D28\u5C31\u662F\u4E00\u4E2A\u5B57\u7B26\u4E32</span></span>\n<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> secretKet </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">zhuzhuxia</span><span style="color:#89DDFF;">&quot;</span></span>\n<span class="line"></span></code></pre></div><h2 id="\u751F\u6210jwt\u5B57\u7B26\u4E32" tabindex="-1">\u751F\u6210JWT\u5B57\u7B26\u4E32 <a class="header-anchor" href="#\u751F\u6210jwt\u5B57\u7B26\u4E32" aria-hidden="true">#</a></h2><p>\u8C03\u7528<code>jsonwebtoken</code>\u5305\u63D0\u4F9B\u7684<code>sign()</code>\u65B9\u6CD5\uFF0C\u5C06\u7528\u6237\u7684\u4FE1\u606F\u52A0\u5BC6\u6210JWT\u5B57\u7B26\u4E32\uFF0C\u53D1\u9001\u7ED9\u5BA2\u6237\u7AEF\uFF1A</p><ul><li>\u53C2\u6570\u4E00\uFF0C\u7528\u6237\u7684\u4FE1\u606F\u5BF9\u8C61</li><li>\u53C2\u6570\u4E8C\uFF0C\u52A0\u5BC6\u7684\u5BC6\u94A5</li><li>\u53C2\u6570\u4E09\uFF0C\u914D\u7F6E\u5BF9\u8C61\uFF0C\u53EF\u4EE5\u914D\u7F6E\u5F53\u524Dtoken\u7684\u6709\u6548\u671F</li></ul><div class="language-js"><pre><code><span class="line"><span style="color:#A6ACCD;">jwt</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">sign</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">username</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> userinfo</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">username </span><span style="color:#89DDFF;">},</span><span style="color:#A6ACCD;"> secretKet</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">expiresIn</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">30s</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>\n<span class="line"></span></code></pre></div><h2 id="jwt\u8FD8\u539F\u6210json" tabindex="-1">JWT\u8FD8\u539F\u6210JSON <a class="header-anchor" href="#jwt\u8FD8\u539F\u6210json" aria-hidden="true">#</a></h2><p>\u5BA2\u6237\u7AEF\u6BCF\u6B21\u5728\u8BBF\u95EE\u90A3\u4E9B\u6709\u6743\u9650\u7684\u63A5\u53E3\u7684\u65F6\u5019\uFF0C\u90FD\u9700\u8981\u4E3B\u52A8\u901A\u8FC7<code>\u8BF7\u6C42\u5934</code>\u4E2D\u7684<code>Authorization</code>\u5B57\u6BB5\uFF0C\u5C06Token\u5B57\u7B26\u4E32\u53D1\u9001\u5230\u670D\u52A1\u5668\u8FDB\u884C\u8EAB\u4EFD\u9A8C\u8BC1</p><p>\u6B64\u65F6\uFF0C\u670D\u52A1\u5668\u53EF\u4EE5\u901A\u8FC7express-jwt\u8FD9\u4E2A\u4E2D\u95F4\u4EF6\uFF0C\u81EA\u52A8\u5C06\u5BA2\u6237\u7AEF\u53D1\u9001\u8FC7\u6765\u7684Token\u89E3\u6790\u8FD8\u539F\u6210JSON\u5BF9\u8C61</p><div class="language-"><pre><code>\n</code></pre></div>', 19);
const _hoisted_20 = [
  _hoisted_1
];
function _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {
  return openBlock(), createElementBlock("div", null, _hoisted_20);
}
var _3_jwt = /* @__PURE__ */ _export_sfc(_sfc_main, [["render", _sfc_render]]);
export { __pageData, _3_jwt as default };
