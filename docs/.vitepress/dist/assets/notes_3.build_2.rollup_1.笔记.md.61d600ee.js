import { _ as _export_sfc, c as createElementBlock, o as openBlock, a as createStaticVNode } from "./app.8af664f8.js";
const __pageData = '{"title":"rollup","description":"","frontmatter":{},"headers":[{"level":2,"title":"Tree-shaking","slug":"tree-shaking"},{"level":2,"title":"ES2015\u6A21\u5757\u6253\u5305\u652F\u6301","slug":"es2015\u6A21\u5757\u6253\u5305\u652F\u6301"},{"level":2,"title":"\u5B89\u88C5","slug":"\u5B89\u88C5"},{"level":2,"title":"\u4F7F\u7528","slug":"\u4F7F\u7528"},{"level":2,"title":"\u6253\u5305\u683C\u5F0F","slug":"\u6253\u5305\u683C\u5F0F"},{"level":2,"title":"rollup.config.js","slug":"rollup-config-js"},{"level":2,"title":"\u4FEE\u6539script\u5B57\u6BB5","slug":"\u4FEE\u6539script\u5B57\u6BB5"},{"level":2,"title":"\u63D2\u4EF6\u673A\u5236","slug":"\u63D2\u4EF6\u673A\u5236"},{"level":2,"title":"rollup-plugin-babel","slug":"rollup-plugin-babel"},{"level":2,"title":"rollup-plugin-commonjs","slug":"rollup-plugin-commonjs"},{"level":2,"title":"rollup-plugin-postcss","slug":"rollup-plugin-postcss"},{"level":3,"title":"autoprefixer","slug":"autoprefixer"},{"level":3,"title":"cssnano","slug":"cssnano"},{"level":3,"title":"extract","slug":"extract"},{"level":2,"title":"rollup-plugin-vue","slug":"rollup-plugin-vue"},{"level":2,"title":"rollup-plugin-terser","slug":"rollup-plugin-terser"},{"level":2,"title":"rollup-plugin-serve","slug":"rollup-plugin-serve"},{"level":2,"title":"rollup-plugin-livereload","slug":"rollup-plugin-livereload"}],"relativePath":"notes/3.build/2.rollup/1.\u7B14\u8BB0.md","lastUpdated":1649220694187}';
const _sfc_main = {};
const _hoisted_1 = /* @__PURE__ */ createStaticVNode('<h1 id="rollup" tabindex="-1">rollup <a class="header-anchor" href="#rollup" aria-hidden="true">#</a></h1><div class="info custom-block"><p class="custom-block-title">INFO</p><p>rollup\u662F\u4E0B\u4E00\u4EE3JavaScript\u6A21\u5757\u6253\u5305\u5DE5\u5177\u3002\u5F00\u53D1\u8005\u53EF\u4EE5\u5728\u4F60\u7684\u5E94\u7528\u6216\u5E93\u4E2D\u4F7F\u7528ES2015\u6A21\u5757\uFF0C\u7136\u540E\u9AD8\u6548\u5730\u5C06\u5B83\u4EEC\u6253\u5305\u6210\u4E00\u4E2A\u5355\u4E00\u6587\u4EF6\u7528\u4E8E\u6D4F\u89C8\u5668\u548Cnode.js\u4F7F\u7528</p><p>\u76F8\u6BD4\u5176\u4ED6JavaScript\u6253\u5305\u5DE5\u5177\uFF0Crollup\u603B\u80FD\u6253\u51FA\u66F4\u5C0F\uFF0C\u66F4\u5FEB\u7684\u5305</p><p>\u8FD9\u65F6\u56E0\u4E3Arollup\u57FA\u4E8EES2015\u6A21\u5757\uFF0C\u6BD4webpack\u548Cbrowserify\u4F7F\u7528\u7684commonJS\u6A21\u5757\u673A\u5236\u66F4\u9AD8\u6548\u3002\u8FD9\u4E5F\u8BA9rollup\u4ECE\u6A21\u5757\u4E2D\u5220\u9664\u65E0\u7528\u7684\u4EE3\u7801\uFF0C\u5373tree-shaking\u53D8\u5F97\u66F4\u5BB9\u6613</p></div><h2 id="tree-shaking" tabindex="-1">Tree-shaking <a class="header-anchor" href="#tree-shaking" aria-hidden="true">#</a></h2><p>\u8FD9\u4E2A\u7279\u70B9\uFF0C\u662FRollup\u6700\u521D\u63A8\u51FA\u65F6\u7684\u4E00\u5927\u7279\u70B9\u3002Rollup\u901A\u8FC7\u5BF9\u4EE3\u7801\u7684\u9759\u6001\u5206\u6790\uFF0C\u5206\u6790\u51FA\u5197\u4F59\u4EE3\u7801\uFF0C\u5728\u6700\u7EC8\u7684\u6253\u5305\u6587\u4EF6\u4E2D\u5C06\u8FD9\u4E9B\u5197\u4F59\u4EE3\u7801\u5220\u9664\u6389\uFF0C\u8FDB\u4E00\u6B65\u7F29\u5C0F\u4EE3\u7801\u4F53\u79EF\u3002\u8FD9\u662F\u76EE\u524D\u5927\u90E8\u5206\u6784\u5EFA\u5DE5\u5177\u6240\u4E0D\u5177\u5907\u7684\u7279\u70B9(Webpack 2.0+\u5DF2\u7ECF\u652F\u6301\u4E86\uFF0C\u4F46\u662F\u6709\u5F00\u53D1\u8005\u8BA4\u4E3A\u5E76\u6CA1\u6709Rollup\u505A\u5F97\u5E72\u51C0)</p><h2 id="es2015\u6A21\u5757\u6253\u5305\u652F\u6301" tabindex="-1">ES2015\u6A21\u5757\u6253\u5305\u652F\u6301 <a class="header-anchor" href="#es2015\u6A21\u5757\u6253\u5305\u652F\u6301" aria-hidden="true">#</a></h2><p>\u8FD9\u4E2A\u4E5F\u662F\u5176\u4ED6\u6784\u5EFA\u5DE5\u5177\u6240\u4E0D\u5177\u5907\u7684\u3002Rollup\u4E0D\u9700\u8981\u901A\u8FC7babel\u5C06import\u8F6C\u5316\u6210Commonjs\u7684require\u65B9\u5F0F\uFF0C\u6781\u5927\u5730\u5229\u7528ES2015\u6A21\u5757\u7684\u4F18\u52BF</p><h2 id="\u5B89\u88C5" tabindex="-1">\u5B89\u88C5 <a class="header-anchor" href="#\u5B89\u88C5" aria-hidden="true">#</a></h2><p>\u5168\u5C40\u5B89\u88C5\u66F4\u6613\u4F7F\u7528</p><div class="language-sh"><pre><code><span class="line"><span style="color:#A6ACCD;">npm i -g rollup</span></span>\n<span class="line"></span></code></pre></div><h2 id="\u4F7F\u7528" tabindex="-1">\u4F7F\u7528 <a class="header-anchor" href="#\u4F7F\u7528" aria-hidden="true">#</a></h2><p>\u65B0\u5EFAsrc\u6587\u4EF6\u5939\uFF0C\u5176\u4E0B\u65B0\u5EFAindex.js,\u6267\u884C\u6253\u5305\u547D\u4EE4</p><div class="language-sh"><pre><code><span class="line"><span style="color:#A6ACCD;">rollup -i src/index.js -o dist/bundle.js -f es</span></span>\n<span class="line"></span></code></pre></div><ul><li><p>-i\u6307\u5B9A\u6253\u5305\u7684\u5165\u53E3\u6587\u4EF6\uFF0C-i\u662F--input\u7684\u7F29\u5199</p></li><li><p>src/index.js\u662F-i\u7684\u53C2\u6570\uFF0C\u5373\u88AB\u6307\u5B9A\u7684\u6253\u5305\u7684\u5165\u53E3\u6587\u4EF6</p></li><li><p>-o\u6307\u5B9A\u8F93\u51FA\u7684\u6587\u4EF6\uFF0C\u662F--output.file\u6216--file\u7684\u7F29\u5199(\u5982\u679C\u6CA1\u6709\u8FD9\u4E2A\u53C2\u6570\uFF0C\u5219\u76F4\u63A5\u8F93\u51FA\u5230\u63A7\u5236\u53F0)</p></li><li><p>dist/bundle.js\u662F-o\u7684\u53C2\u6570\uFF0C\u5373\u8F93\u51FA\u6587\u4EF6</p></li><li><p>-f\u6307\u5B9A\u6253\u5305\u6587\u4EF6\u7684\u683C\u5F0F\uFF0C-f\u662F--format\u7684\u7F29\u5199</p></li><li><p>es\u662F-f\u7684\u53C2\u6570\uFF0C\u8868\u793A\u6253\u5305\u6587\u4EF6\u4F7F\u7528ES6\u6A21\u5757\u89C4\u8303</p></li></ul><h2 id="\u6253\u5305\u683C\u5F0F" tabindex="-1">\u6253\u5305\u683C\u5F0F <a class="header-anchor" href="#\u6253\u5305\u683C\u5F0F" aria-hidden="true">#</a></h2><p>rollup\u652F\u6301\u7684\u6253\u5305\u6587\u4EF6\u7684\u683C\u5F0F\u6709</p><ul><li><p>amd</p></li><li><p>cjs</p></li><li><p>es\\esm,</p></li><li><p>iife, umd</p></li></ul><p>amd\u4E3AAMD\u6807\u51C6\uFF0Ccjs\u4E3ACommonJS\u6807\u51C6\uFF0Cesm\\es\u4E3AES\u6A21\u5757\u6807\u51C6\uFF0Ciife\u4E3A\u7ACB\u5373\u8C03\u7528\u51FD\u6570\uFF0C umd\u540C\u65F6\u652F\u6301amd\u3001cjs\u548Ciife</p><h2 id="rollup-config-js" tabindex="-1">rollup.config.js <a class="header-anchor" href="#rollup-config-js" aria-hidden="true">#</a></h2><p>rollup\u914D\u7F6E\u6587\u4EF6\uFF0C\u9879\u76EE\u6839\u76EE\u5F55\u4E0B\u521B\u5EFA</p><div class="language-js"><pre><code><span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">default</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>\n<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">input</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">./src/index.js</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// \u5165\u53E3\u6587\u4EF6\u8DEF\u5F84</span></span>\n<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">output</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [ </span><span style="color:#676E95;font-style:italic;">// \u8F93\u51FA\u6587\u4EF6\u540D\u53CA\u6587\u4EF6\u683C\u5F0F</span></span>\n<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">{</span></span>\n<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">file</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./dist/my-lib-umd.js</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>\n<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">format</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">umd</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">  </span><span style="color:#676E95;font-style:italic;">//\u5F53\u5165\u53E3\u6587\u4EF6\u6709export\u65F6\uFF0C&#39;umd&#39;\u683C\u5F0F\u5FC5\u987B\u6307\u5B9Aname</span></span>\n<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">myLib</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">  </span><span style="color:#676E95;font-style:italic;">//\u8FD9\u6837\uFF0C\u5728\u901A\u8FC7&lt;script&gt;\u6807\u7B7E\u5F15\u5165\u65F6\uFF0C\u624D\u80FD\u901A\u8FC7name\u8BBF\u95EE\u5230export\u7684\u5185\u5BB9</span></span>\n<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">},</span></span>\n<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">{</span></span>\n<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">file</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./dist/my-lib-es.js</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>\n<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">format</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">es</span><span style="color:#89DDFF;">&#39;</span></span>\n<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">},</span></span>\n<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">{</span></span>\n<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">file</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./dist/my-lib-cjs.js</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>\n<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">format</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">cjs</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// CJS\u662FCommonJS\u7684\u7F29\u5199</span></span>\n<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span>\n<span class="line"><span style="color:#A6ACCD;">  ]</span></span>\n<span class="line"><span style="color:#89DDFF;">}</span></span>\n<span class="line"></span></code></pre></div><h2 id="\u4FEE\u6539script\u5B57\u6BB5" tabindex="-1">\u4FEE\u6539script\u5B57\u6BB5 <a class="header-anchor" href="#\u4FEE\u6539script\u5B57\u6BB5" aria-hidden="true">#</a></h2><p>\u751F\u6210\u9ED8\u8BA4package.json</p><div class="language-sh"><pre><code><span class="line"><span style="color:#A6ACCD;">npm init -y </span></span>\n<span class="line"></span></code></pre></div><p>package.json\u6DFB\u52A0\u4EE5\u4E0B\u5185\u5BB9</p><div class="language-js"><pre><code><span class="line"><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">scripts</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">: </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span></span>\n<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">dev1</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">rollup -c</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">                </span></span>\n<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">dev2</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">: </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">rollup -c my.config.js</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">  </span></span>\n<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">dev3</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">: </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">rollup -wc</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span></span>\n<span class="line"><span style="color:#89DDFF;">}</span></span>\n<span class="line"></span></code></pre></div><ul><li>scripts\u8868\u793Anode\u811A\u672C</li><li>-c\u8868\u793A\u6267\u884C\u7F16\u8BD1\uFF0C \u9ED8\u8BA4\u4F7F\u7528rollup.config.js</li><li>-c\u540E\u9762\u63A5js\u6587\u4EF6\uFF0C\u8868\u793A\u4F7F\u7528\u81EA\u5B9A\u4E49\u7684\u914D\u7F6E\u6587\u4EF6\uFF0Cmy.config.js</li><li>c\u53C2\u6570\u8868\u793A\u6267\u884C\u7F16\u8BD1\uFF0Cw\u53C2\u6570\u8868\u793A\u76D1\u542C\u6587\u4EF6\u72B6\u6001\uFF0C\u5373\u5728\u6587\u4EF6\u4FEE\u6539\u540E\u81EA\u52A8\u91CD\u65B0\u7F16\u8BD1</li></ul><div class="language-sh"><pre><code><span class="line"><span style="color:#676E95;font-style:italic;">#\u6267\u884C\u811A\u672C</span></span>\n<span class="line"><span style="color:#A6ACCD;">npm run dev1</span></span>\n<span class="line"><span style="color:#A6ACCD;">npm run dev2</span></span>\n<span class="line"><span style="color:#A6ACCD;">npm run dev3</span></span>\n<span class="line"></span></code></pre></div><h2 id="\u63D2\u4EF6\u673A\u5236" tabindex="-1">\u63D2\u4EF6\u673A\u5236 <a class="header-anchor" href="#\u63D2\u4EF6\u673A\u5236" aria-hidden="true">#</a></h2><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>\u5728webpack\u4E2D\uFF0C\u4F7F\u7528loader\u5BF9\u6E90\u6587\u4EF6\u8FDB\u884C\u9884\u5904\u7406\uFF0Cplugin\u5B8C\u6210\u6784\u5EFA\u6253\u5305\u7684\u7279\u5B9A\u529F\u80FD\u9700\u6C42</p><p>\u800Crollup\u4E2D\uFF0Cplugin\u517C\u5177webpack\u4E2Dloader\u548Cplugin\u7684\u529F\u80FD</p></div><h2 id="rollup-plugin-babel" tabindex="-1">rollup-plugin-babel <a class="header-anchor" href="#rollup-plugin-babel" aria-hidden="true">#</a></h2><p>\u7528\u4E8E\u8F6C\u6362es6\u8BED\u6CD5</p><div class="language-sh"><pre><code><span class="line"><span style="color:#A6ACCD;">npm i rollup-plugin-babel @babel/core @babel/preset-env -D</span></span>\n<span class="line"></span></code></pre></div><div class="language-js"><pre><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> babel </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">rollup-plugin-babel</span><span style="color:#89DDFF;">&#39;</span></span>\n<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">default</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>\n<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">...</span></span>\n<span class="line"><span style="color:#A6ACCD;">  plugins:[</span></span>\n<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">babel</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span></span>\n<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">exclude</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">node_modules/**</span><span style="color:#89DDFF;">&#39;</span></span>\n<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>\n<span class="line"><span style="color:#A6ACCD;">  ]</span></span>\n<span class="line"><span style="color:#89DDFF;">}</span></span>\n<span class="line"></span></code></pre></div><p>\u9879\u76EE\u6839\u76EE\u5F55\u521B\u5EFA.babelrc\u6587\u4EF6</p><div class="language-js"><pre><code><span class="line"><span style="color:#89DDFF;">{</span></span>\n<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">presets</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">: [</span></span>\n<span class="line"><span style="color:#F07178;">      [</span></span>\n<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">@babel/preset-env</span><span style="color:#89DDFF;">&quot;</span></span>\n<span class="line"><span style="color:#F07178;">      ]</span></span>\n<span class="line"><span style="color:#F07178;">    ]</span></span>\n<span class="line"><span style="color:#89DDFF;">}</span></span>\n<span class="line"></span></code></pre></div><h2 id="rollup-plugin-commonjs" tabindex="-1">rollup-plugin-commonjs <a class="header-anchor" href="#rollup-plugin-commonjs" aria-hidden="true">#</a></h2><p>rollup\u9ED8\u8BA4\u662F\u4E0D\u652F\u6301CommonJS\u6A21\u5757\u7684\uFF0C\u81EA\u5DF1\u5199\u7684\u65F6\u5019\u53EF\u4EE5\u5C3D\u91CF\u907F\u514D\u4F7F\u7528CommonJS\u6A21\u5757\u7684\u8BED\u6CD5\uFF0C\u4F46\u6709\u4E9B\u5916\u90E8\u5E93\u7684\u662Fcjs\u6216\u8005umd\uFF08\u7531webpack\u6253\u5305\u7684\uFF09\uFF0C\u6240\u4EE5\u4F7F\u7528\u8FD9\u4E9B\u5916\u90E8\u5E93\u5C31\u9700\u8981\u652F\u6301CommonJS\u6A21\u5757</p><div class="language-bash"><pre><code><span class="line"><span style="color:#A6ACCD;">npm i rollup-plugin-commonjs -D</span></span>\n<span class="line"></span></code></pre></div><p>rollup.config,js\u4E2D\u52A0\u5165</p><div class="language-js"><pre><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> commonjs </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">rollup-plugin-commonjs</span><span style="color:#89DDFF;">&#39;</span></span>\n<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">default</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>\n<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">...</span></span>\n<span class="line"><span style="color:#A6ACCD;">  plugins:[</span></span>\n<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">commonjs</span><span style="color:#A6ACCD;">()</span></span>\n<span class="line"><span style="color:#A6ACCD;">  ]</span></span>\n<span class="line"><span style="color:#89DDFF;">}</span></span>\n<span class="line"></span></code></pre></div><h2 id="rollup-plugin-postcss" tabindex="-1">rollup-plugin-postcss <a class="header-anchor" href="#rollup-plugin-postcss" aria-hidden="true">#</a></h2><p>\u652F\u6301css\u6587\u4EF6\u7684\u52A0\u8F7D\u3001css\u52A0\u524D\u7F00\u3001css\u538B\u7F29\u3001\u9ED8\u8BA4\u652F\u6301\u5BF9scss/less\u7684\u652F\u6301\u7B49\u7B49</p><div class="language-bash"><pre><code><span class="line"><span style="color:#A6ACCD;">npm i rollup-plugin-postcss postcss --D</span></span>\n<span class="line"></span></code></pre></div><p>rollup.config,js\u4E2D\u52A0\u5165</p><div class="language-js"><pre><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> postcss </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">rollup-plugin-postcss</span><span style="color:#89DDFF;">&#39;</span></span>\n<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">default</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>\n<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">...</span></span>\n<span class="line"><span style="color:#A6ACCD;">  plugins:[</span></span>\n<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">postcss</span><span style="color:#A6ACCD;">()</span></span>\n<span class="line"><span style="color:#A6ACCD;">  ]</span></span>\n<span class="line"><span style="color:#89DDFF;">}</span></span>\n<span class="line"></span></code></pre></div><h3 id="autoprefixer" tabindex="-1">autoprefixer <a class="header-anchor" href="#autoprefixer" aria-hidden="true">#</a></h3><p>\u7ED9css3\u7684\u4E00\u4E9B\u5C5E\u6027\u52A0\u524D\u7F00\uFF0C\u8FBE\u5230\u4E0D\u540C\u6D4F\u89C8\u5668\u517C\u5BB9</p><div class="language-bash"><pre><code><span class="line"><span style="color:#A6ACCD;">npm i autoprefixer@8.0.0 --D</span></span>\n<span class="line"></span></code></pre></div><div class="language-js"><pre><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> postcss </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">rollup-plugin-postcss</span><span style="color:#89DDFF;">&#39;</span></span>\n<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> autoprefixer </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">autoprefixer</span><span style="color:#89DDFF;">&#39;</span></span>\n<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">default</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>\n<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">...</span></span>\n<span class="line"><span style="color:#A6ACCD;">  plugins:[</span></span>\n<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">postcss</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span></span>\n<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">plugins</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [  </span></span>\n<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#82AAFF;">autoprefixer</span><span style="color:#A6ACCD;">()  </span></span>\n<span class="line"><span style="color:#A6ACCD;">      ]</span></span>\n<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>\n<span class="line"><span style="color:#A6ACCD;">  ]</span></span>\n<span class="line"><span style="color:#89DDFF;">}</span></span>\n<span class="line"></span></code></pre></div><p>\u9700\u8981package.json\u4E2D\u914D\u7F6Ebrowserslist\u5B57\u6BB5</p><div class="language-json"><pre><code><span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">browserslist</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">: </span><span style="color:#89DDFF;">[</span></span>\n<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">defaults</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>\n<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">not ie &lt; 8</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>\n<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">last 2 versions</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>\n<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">&gt; 1%</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>\n<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">iOS 7</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>\n<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">last 3 iOS versions</span><span style="color:#89DDFF;">&quot;</span></span>\n<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">]</span></span>\n<span class="line"></span></code></pre></div><h3 id="cssnano" tabindex="-1">cssnano <a class="header-anchor" href="#cssnano" aria-hidden="true">#</a></h3><p>\u538B\u7F29CSS\u4EE3\u7801,\u53BB\u9664\u6362\u884C\u548C\u7A7A\u683C</p><div class="language-bash"><pre><code><span class="line"><span style="color:#A6ACCD;">npm i cssnano --D</span></span>\n<span class="line"></span></code></pre></div><div class="language-js"><pre><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> postcss </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">rollup-plugin-postcss</span><span style="color:#89DDFF;">&#39;</span></span>\n<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> autoprefixer </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">autoprefixer</span><span style="color:#89DDFF;">&#39;</span></span>\n<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> cssnano </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">cssnano</span><span style="color:#89DDFF;">&#39;</span></span>\n<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">default</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>\n<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">...</span></span>\n<span class="line"><span style="color:#A6ACCD;">  plugins:[</span></span>\n<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">postcss</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span></span>\n<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">plugins</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [  </span></span>\n<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#82AAFF;">autoprefixer</span><span style="color:#A6ACCD;">()  </span></span>\n<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#82AAFF;">cssnano</span><span style="color:#A6ACCD;">()</span></span>\n<span class="line"><span style="color:#A6ACCD;">      ]</span></span>\n<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>\n<span class="line"><span style="color:#A6ACCD;">  ]</span></span>\n<span class="line"><span style="color:#89DDFF;">}</span></span>\n<span class="line"></span></code></pre></div><h3 id="extract" tabindex="-1">extract <a class="header-anchor" href="#extract" aria-hidden="true">#</a></h3><p>\u53EF\u914D\u7F6E\u662F\u5426\u5C06css\u5355\u72EC\u5206\u79BB\uFF0C\u9ED8\u8BA4\u6CA1\u6709extract\uFF0Ccss\u6837\u5F0F\u751F\u6210style\u6807\u7B7E\u5185\u8054\u5230head\u4E2D\uFF0C\u914D\u7F6E\u4E86extract\uFF0C\u5C31\u4F1A\u5C06css\u62BD\u79BB\u6210\u5355\u72EC\u7684\u6587\u4EF6</p><div class="language-js"><pre><code><span class="line"><span style="color:#82AAFF;">postcss</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span></span>\n<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">plugins</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span></span>\n<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">autoprefixer</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">,</span></span>\n<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">cssnano</span><span style="color:#A6ACCD;">()</span></span>\n<span class="line"><span style="color:#A6ACCD;">  ]</span><span style="color:#89DDFF;">,</span></span>\n<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">extract</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">css/index.css</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">  </span></span>\n<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>\n<span class="line"></span></code></pre></div><h2 id="rollup-plugin-vue" tabindex="-1">rollup-plugin-vue <a class="header-anchor" href="#rollup-plugin-vue" aria-hidden="true">#</a></h2><ul><li>vue2\uFF1Arollup-plugin-vue^5.1.9 + vue-template-compiler</li><li>vue3\uFF1Arollup-plugin-vue^6.0.0 + @vue/compiler-sfc</li></ul><div class="language-bash"><pre><code><span class="line"><span style="color:#A6ACCD;">npm i -D rollup-plugin-vue @vue/compiler-sfc</span></span>\n<span class="line"></span></code></pre></div><div class="language-js"><pre><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> vue </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">rollup-plugin-vue</span><span style="color:#89DDFF;">&#39;</span></span>\n<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> autoprefixer </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">autoprefixer</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">  </span></span>\n<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> cssnano </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">cssnano</span><span style="color:#89DDFF;">&#39;</span></span>\n<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">default</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>\n<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">...</span></span>\n<span class="line"><span style="color:#A6ACCD;">  plugins:[</span></span>\n<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">vue</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span></span>\n<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">style</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>\n<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">postcssPlugins</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span></span>\n<span class="line"><span style="color:#A6ACCD;">          </span><span style="color:#82AAFF;">autoprefixer</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">,</span></span>\n<span class="line"><span style="color:#A6ACCD;">          </span><span style="color:#82AAFF;">cssnano</span><span style="color:#A6ACCD;">()</span></span>\n<span class="line"><span style="color:#A6ACCD;">        ]</span></span>\n<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">}</span></span>\n<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>\n<span class="line"><span style="color:#A6ACCD;">  ]</span></span>\n<span class="line"><span style="color:#89DDFF;">}</span></span>\n<span class="line"></span></code></pre></div><h2 id="rollup-plugin-terser" tabindex="-1">rollup-plugin-terser <a class="header-anchor" href="#rollup-plugin-terser" aria-hidden="true">#</a></h2><p>\u751F\u4EA7\u73AF\u5883\u4E2D\uFF0C\u4EE3\u7801\u538B\u7F29</p><div class="language-js"><pre><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">terser</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">rollup-plugin-terser</span><span style="color:#89DDFF;">&#39;</span></span>\n<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">default</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>\n<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">...</span></span>\n<span class="line"><span style="color:#A6ACCD;">  plugins:[</span></span>\n<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">terser</span><span style="color:#A6ACCD;">()</span></span>\n<span class="line"><span style="color:#A6ACCD;">  ]</span></span>\n<span class="line"><span style="color:#89DDFF;">}</span></span>\n<span class="line"></span></code></pre></div><h2 id="rollup-plugin-serve" tabindex="-1">rollup-plugin-serve <a class="header-anchor" href="#rollup-plugin-serve" aria-hidden="true">#</a></h2><p>\u7528\u4E8E\u542F\u52A8\u4E00\u4E2A\u670D\u52A1\u5668, \u4E00\u822C\u642D\u914Drollup-plugin-livereload\u4E00\u8D77\u4F7F\u7528</p><h2 id="rollup-plugin-livereload" tabindex="-1">rollup-plugin-livereload <a class="header-anchor" href="#rollup-plugin-livereload" aria-hidden="true">#</a></h2><p>\u7528\u4E8E\u6587\u4EF6\u53D8\u5316\u65F6\uFF0C\u5B9E\u65F6\u5237\u65B0\u9875\u9762</p><div class="language-js"><pre><code><span class="line"><span style="color:#A6ACCD;">npm i </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">D rollup</span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">plugin</span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">serve rollup</span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">plugin</span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">livereload</span></span>\n<span class="line"></span></code></pre></div><div class="language-js"><pre><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> serve </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">rollup-plugin-serve</span><span style="color:#89DDFF;">&#39;</span></span>\n<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> livereload </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">rollup-plugin-livereload</span><span style="color:#89DDFF;">&#39;</span></span>\n<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">default</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>\n<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">...</span></span>\n<span class="line"><span style="color:#A6ACCD;">  plugins:[</span></span>\n<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">serve</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span></span>\n<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">contentBase</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">  </span><span style="color:#676E95;font-style:italic;">//\u670D\u52A1\u5668\u542F\u52A8\u7684\u6587\u4EF6\u5939\uFF0C\u9ED8\u8BA4\u662F\u9879\u76EE\u6839\u76EE\u5F55\uFF0C\u9700\u8981\u5728\u8BE5\u6587\u4EF6\u4E0B\u521B\u5EFAindex.html</span></span>\n<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">port</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">8020</span><span style="color:#A6ACCD;">   </span><span style="color:#676E95;font-style:italic;">// \u7AEF\u53E3\u53F7\uFF0C\u9ED8\u8BA410001</span></span>\n<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">    </span></span>\n<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">livereload</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">dist</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)   </span><span style="color:#676E95;font-style:italic;">//watch dist\u76EE\u5F55\uFF0C\u5F53\u76EE\u5F55\u4E2D\u7684\u6587\u4EF6\u53D1\u751F\u53D8\u5316\u65F6\uFF0C\u5237\u65B0\u9875\u9762</span></span>\n<span class="line"><span style="color:#A6ACCD;">  ]</span></span>\n<span class="line"><span style="color:#89DDFF;">}</span></span>\n<span class="line"></span></code></pre></div>', 71);
const _hoisted_72 = [
  _hoisted_1
];
function _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {
  return openBlock(), createElementBlock("div", null, _hoisted_72);
}
var _1___ = /* @__PURE__ */ _export_sfc(_sfc_main, [["render", _sfc_render]]);
export { __pageData, _1___ as default };
