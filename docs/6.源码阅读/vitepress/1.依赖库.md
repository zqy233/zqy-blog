## micromatch

> https://www.npmjs.com/package/micromatch

### glob

globå…è®¸ä½¿ç”¨è§„åˆ™ï¼Œä»è€Œè·å–å¯¹åº”è§„åˆ™åŒ¹é…çš„æ–‡ä»¶ã€‚è¿™ä¸ªglobå·¥å…·åŸºäºjavascript.å®ƒä½¿ç”¨äº† minimatch åº“æ¥è¿›è¡ŒåŒ¹é…

> ç”¨æ³•ï¼šhttps://www.cnblogs.com/raind/p/10211951.html

### minimatch 

ç”¨æ¥æ¨¡å¼åŒ¹é…å­—ç¬¦ä¸²çš„åº“ï¼Œglobåº“æ”¯æŒçš„çš„å„ç§æ¨¡å¼éƒ½æ¥è‡ªäºminimatch

### micromatch

æ˜¯minimatchçš„å¢å¼ºç‰ˆæœ¬

## polka

> https://www.npmjs.com/package/polka

ä¸€ä¸ªå¾®å‹ç½‘ç»œæœåŠ¡å™¨ï¼Œæ˜¯ä¸€ä¸ªæå…¶å°å·§ã€æ€§èƒ½å“è¶Šçš„Express.jsæ›¿ä»£å“ï¼Œæ˜¯çš„ï¼ŒExpresså·²ç»å¾ˆå¿«äº†ï¼Œè€Œä¸”æ²¡æœ‰é‚£ä¹ˆå¤§ğŸ¤” ï¼Œ ä½†polkaè¡¨ç¤ºï¼Œè¿˜æœ‰ï¼ˆä»¥æŸç§æ–¹å¼ï¼‰æ”¹è¿›çš„ç©ºé—´

æœ¬è´¨ä¸Šï¼ŒPolkaåªæ˜¯ä¸€ä¸ªæœ¬åœ°HTTPæœåŠ¡å™¨ï¼Œå¢åŠ äº†å¯¹è·¯ç”±ã€ä¸­é—´ä»¶å’Œå­åº”ç”¨ç¨‹åºçš„æ”¯æŒã€‚å°±æ˜¯è¿™æ ·ï¼ğŸ‰

## compression

JavaScriptå›¾åƒå‹ç¼©å™¨ã€‚ä½¿ç”¨æµè§ˆå™¨çš„åŸç”Ÿcanvas.toBlob APIæ¥æ‰§è¡Œå‹ç¼©å·¥ä½œï¼Œè¿™æ„å‘³ç€å®ƒæ˜¯æœ‰æŸå‹ç¼©ã€å¼‚æ­¥çš„ï¼Œå¹¶ä¸”åœ¨ä¸åŒçš„æµè§ˆå™¨ä¸­å…·æœ‰ä¸åŒçš„å‹ç¼©æ•ˆæœã€‚é€šå¸¸ï¼Œåœ¨ä¸Šè½½å›¾åƒä¹‹å‰ï¼Œä½¿ç”¨æ­¤å‘½ä»¤åœ¨å®¢æˆ·ç«¯é¢„å‹ç¼©å›¾åƒ

## sirv

> ç”¨äºæœåŠ¡é™æ€èµ„æºè¯·æ±‚çš„ä¼˜åŒ–çš„å’Œè½»é‡çº§ä¸­é—´ä»¶

### ç”¨æ³•

```js
const sirv = require('sirv');
const polka = require('polka');
const compress = require('compression')();

// Init `sirv` handler
const assets = sirv('public', {
  maxAge: 31536000, // 1Y
  immutable: true
});

polka()
  .use(compress, assets)
  .use('/api', require('./api'))
  .listen(3000, err => {
    if (err) throw err;
    console.log('> Ready on localhost:3000~!');
  });
```

### etag

æ˜¯å¦ç”Ÿæˆå’Œæ·»åŠ `ETag`åˆ°å“åº”å¤´ï¼ŒEtagæ˜¯åå•†ç¼“å­˜

### maxAge

å¯ç”¨å“åº”çš„ç¼“å­˜æ§åˆ¶å¤´å¹¶è®¾ç½®æœ€å¤§å€¼ï¼ˆä»¥ç§’ä¸ºå•ä½ï¼‰
ä¾‹å¦‚ï¼ŒmaxAge:31536000ç›¸å½“äºä¸€å¹´

```js
  const serve = sirv(site.outDir, {
    etag: true,
    maxAge: 31536000,
    immutable: true,
    setHeaders(res, pathname) {
      if (notAnAsset(pathname)) {
        // force server validation for non-asset files since they
        // are not fingerprinted
        res.setHeader('cache-control', 'no-cache')
      }
    }
  })
```

